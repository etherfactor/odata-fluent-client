trigger:
- main
- release/*
- develop

resources:
  repositories:
  - repository: sharedTemplates
    type: git
    name: 'Projects/PipelineTemplates'
    ref: 'refs/heads/feature/initial'

stages:

- stage: prep
  displayName: 'Prep'

  jobs:
  - template: shared/gitversion.yml

- stage: test
  displayName: 'Test'

  jobs:
  - template: node/test/unit-test.yml@sharedTemplates
    parameters:
      vmImage: 'ubuntu-22.04'
      nodeVersion: '22.x.x'
      testCommand: 'test'
      artifactName: 'test-node-unit'
